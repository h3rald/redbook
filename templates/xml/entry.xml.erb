<%
	extras = @object.then([:respond_to?, :tags]){chain(:tags, :length, [:>, 0])} || @object.then([:respond_to?, :details]){chain(:details, :length, [:>, 0])} || @object.then([:respond_to?, :items]){chain(:items, :length, [:>, 0])}	
%>	<entry>
		<text><%= @object.text -%></text>
		<timestamp><%= @object.timestamp -%></timestamp><% if extras then %><%= 
			"\n"+@partial.call(:tags) if @object.chain(:tags, :length) > 0 %><%=	
			"\n"+@partial.call(:detail) if @object.chain(:details, :length) > 0 || @object.chain(:items, :length) > 0 %><% end %>
	</entry>
